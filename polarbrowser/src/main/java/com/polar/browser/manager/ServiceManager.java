package com.polar.browser.manager;import android.content.ComponentName;import android.content.Context;import android.content.Intent;import android.content.ServiceConnection;import android.os.IBinder;import android.os.RemoteException;import com.polar.browser.service.AdBlockService;import com.polar.browser.service.IAdBlockService;/** * 用于管理各个服务 * * @author dpk */public class ServiceManager {	private IAdBlockService mAdBlockService;	private ServiceConnection mAdBlockServiceConnection = new ServiceConnection() {		@Override		public void onServiceConnected(ComponentName name, IBinder service) {			mAdBlockService = IAdBlockService.Stub.asInterface(service);		}		@Override		public void onServiceDisconnected(ComponentName name) {			mAdBlockService = null;		}	};	public void bindAdBlockService(Context c) {		Intent intent = new Intent(c, AdBlockService.class);		intent.setAction(AdBlockService.ACTION_BIND);		c.bindService(intent, mAdBlockServiceConnection, Context.BIND_AUTO_CREATE);	}	public void unBindAdBlockService(Context c) {		if (mAdBlockServiceConnection != null) {			c.unbindService(mAdBlockServiceConnection);			if (mAdBlockService != null) {				try {					mAdBlockService.exit();				} catch (RemoteException e) {					e.printStackTrace();				}			}			mAdBlockServiceConnection = null;		}	}	public IAdBlockService getAdBlockService() {		return mAdBlockService;	}}